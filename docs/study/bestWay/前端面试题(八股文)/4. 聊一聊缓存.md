**在 http1.0 之前是没有缓存的，http1.0 新增了 `Pragma: no-cache` 与 `Expires`**

1. `Pragma: no-cache` 要求客户端不要使用缓存资源，验证资源是否过期。
2. **`Expires` 会返回一个时间，表示资源的过期时间。`Pragma` 优先级更高点。**

---

但是他有几个问题

1. `Expires` 时间与客户端不同步会导致失效
2. `Expires` 时间到期了但是资源没改变，没有定义过期后的情况，会造成资源浪费。
3. `Expires` 定义的缓存太过粗暴，返回就缓存，没有就不缓存。

---

http1.1 对缓存进行了强化

1. **定义了 `Cache-Control` 字段，定义了是否缓存`(no-store)`, 缓存时间倒计时`(max-age=)`，以及丰富的缓存的类型。解决了 `Expires` 单调的问题**
2. 协商缓存填补解决了 http1.0 缓存失效下的资源浪费情况

   a. **通过 `ETag(响应头) / If-none-match(请求头)` 通过数据的签名判断是否使用缓存数据**

   b. **通过 `Last-Modified(响应头) / If-Modified-Since(请求头)` 通多数据的最后修改时间判断是否使用缓存数据**

---

优先级的话

`Cache-Control(no-store > no-cache > max-age)` >
`Pragma: no-cache` >
`Expires` >
`ETag/If-None-Match` >
`Last-Modified/If-Modified-Since`

---

其他：

在单页面项目中 的入口 `index.html` 是不缓存的，在 `http`、`nginx` 、 `index.html` 的 `meta` 进行配置、或者加个时间戳参数
